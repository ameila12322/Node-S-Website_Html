{% extends "base.html" %}
{% block content %}
<main role="main" class="container">
    {% if current_user.id == order.user_data.id %}
  <div class="row justify-content-md-center">
    <div class="col-md-8">
      <div class="content-section">
        <h1 style="text-align: center;">Order Details for Order: {{ order.id }}</h1>
        <br>
        <style>
            table {
              width:100%;
            }
            table, th, td {
              border: 1px solid black;
              border-collapse: collapse;
            }
            th, td {
              padding: 15px;
              text-align: left;
            }
            #t01 tr:nth-child(even) {
              background-color: #eee;
            }
            #t01 tr:nth-child(odd) {
             background-color: #fff;
            }
            #t01 th {
              background-color: black;
              color: white;
            }
            .tab { margin-left: 40px; }
          </style>
          <div class="table-responsive">
              <font size="5" face="Courier New" >
                  <table  id="t01" class="">
                    <thead>
                      <tr>
                        <th style="width:15%;">Label</th>
                        <th style="width:85%">Data</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><b>Order ID</b></td>
                        <td>{{ order.id }}</td>
                      </tr>
                      <tr>
                        <td><b>Name</b></td>
                        <td>{{ order.user_data.name }}</td>
                      </tr>
                      <tr>
                        <td><b>Surname</b></td>
                        <td>{{ order.user_data.surname }}</td>
                      </tr>
                      <tr>
                        <td><b>phone</b></td>
                        <td>{{ order.phone_number }}</td>
                      </tr>
                      <tr>
                        <td><b>Order Message</b></td>
                        <td>{{ order.order_message }}</td>
                      </tr>
                      <tr>
                        <td><b>Order Date</b></td>
                        <td>{{ order.order_date }} - {{ order.order_date|datetimeelapsedformat }}</td>
                      </tr>
                      <tr>
                        <td><b>Order Status</b></td>
                        <td>{{ order.OrderStatus_data.name }}</td>
                      </tr>
                    </tbody>
                  </table>
              </font>
          </div>
      <h2>Items</h2>
      <div class="table-responsive">
          <table class="table table-striped table-sm">
              <thead>
                  <tr>
                      <th>Qty</th>
                      <th>Item</th>
                      <th>Total Price</th>
                  </tr>
            </thead>
            <tbody>
              {% for item in items %}
                  <tr>
                    <td>{{ item.Qty }}</td>
                    <td>{{ item.Item }}</td>
                    <td>R{{ item.Amount }}</td>
                  </tr>
              {% endfor %}
            </tbody>
          </table>
      </div>
      {% else %}
      <h1>You are not autherised to view this data</h1>
      {% endif %}
      </div>
    </div>
  </div>
</main>
<main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
</main>
{% endblock content %}
